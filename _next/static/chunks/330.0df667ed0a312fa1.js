"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{6330:function(e,t,n){n.r(t),n.d(t,{TaskProgress:function(){return f},ProgressContext:function(){return m},default:function(){return y}});var r=n(5893),a=n(7294),o=n(6092),i=n(5236),s=n(419),u=n(1669),l=n(8525);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f,h=(0,u.Nb)("soc-progress"),p=(0,u.iz)("1"),v=(0,u.iz)("4"),g=(0,u.iz)("10");!function(e){e.Visited="Visited",e.Solved="Solved"}(f||(f={}));var m=(0,a.createContext)({}),S=function(e){switch(e){case f.Visited:return p;case f.Solved:return v;default:return 0}},C=function(e){var t=0;return e.forEach((function(e){t+=S(e.taskProgress)})),t};function y(e){var t=e.children,n=d((0,o.V)(h,[]),3),u=n[0],c=n[1],p=n[2],y=(0,a.useCallback)((function(){c([]),p()}),[c,p]),b=(0,a.useCallback)((function(){return C(u)}),[u]),A=(0,a.useCallback)((function(e){var t=u.find((function(t){return t.uuid===e}));return null===t||void 0===t?void 0:t.taskProgress}),[u]),M=(0,a.useCallback)((function(e){var t=A(e);return S(t)}),[A]),L=(0,a.useCallback)((function(e){return function(e,t){var n=l.s3.filter((function(t){return t.category===e}));if(0===n.length)throw new Error('No tasks found for category "'.concat(e,'"'));var r=t.filter((function(e){return n.some((function(t){return t.uuid===e.uuid}))})),a=n.length*v,o=C(r);return Math.round(100*o/a)}(e,u)}),[u]),E=(0,a.useCallback)((function(e,t){c((function(n){var r=n.filter((function(t){return(null===t||void 0===t?void 0:t.uuid)!==e}));return r.push({uuid:e,taskProgress:t}),r}))}),[c]);return(0,r.jsx)(m.Provider,{value:{resetProgress:y,getTotalScore:b,getTaskProgress:A,getTaskPoints:M,getCategoryProgressPercentage:L,setTaskProgress:E,useVisitedTimer:function(e,t){var n=(0,a.useRef)(t);(0,a.useEffect)((function(){n.current=t}),[t]);var r=(0,a.useRef)();(0,i.H)((function(){r.current=setTimeout((function(){void 0===n.current(e)&&E(e,f.Visited)}),1e3*g)})),(0,s.b)((function(){r.current&&clearTimeout(r.current)}))}},children:t})}},8525:function(e,t,n){var r,a,o,i,s,u;n.d(t,{WD:function(){return r},n$:function(){return s},Gb:function(){return o},s3:function(){return v}}),function(e){e.CentralFlightSystem="Central Flight System (CFS)",e.VentilationThermalControl="Cabin Ventilation and Thermal Control (VTC)",e.CrewHealthCryosleep="Crew Health and Cryosleep (CHC)",e.SpaceRadiationProtection="Space Radiation Protection (SRP)"}(r||(r={})),function(e){e[e.Simple=0]="Simple",e[e.Medium=1]="Medium",e[e.Hard=2]="Hard"}(a||(a={})),function(e){e.ExtractClass="Klasse extrahieren (Extract Class)",e.MoveMethod="Methode verlagern (Move Method)",e.ExtractMethod="Methode extrahieren (Extract Method)",e.GuardClauses="Verschachtelte Bedingungen durch W\xe4chter ersetzen (Replace Nested Conditional with Guard Clauses)",e.DecomposeConditional="Bedingung zerlegen (Decompose Conditional)"}(o||(o={})),function(e){e.Comment="Kommentar (Comment)",e.LongMethod="Lange Methode (Long Method)",e.LongParameterList="Lange Parameterliste (Long Parameter List)"}(i||(i={})),function(e){e.Refactoring="Refactoring",e.CodeSmell="Code Smell"}(s||(s={}));var l,c=null!==(u="/soc-asklepios")?u:"",d="Der durch den Kommentar beschriebene Code kann in eine Methode mit \xe4hnlichem Namen ausgelagert werden.\n\nDann ist auch das Abstraktionsniveau innerhalb von `increaseVelocity()` konsistent.\n\nDetails: [Refactorings](".concat(c,"/info/#refactorings)."),f={uuid:"031b215a-dc73-41e1-bcfb-d796a173f75e",name:"Velocity increase control",difficulty:a.Simple,category:r.CentralFlightSystem,dirtyCode:"class PropulsionController {\n  private Velocity currentSpeed;\n  ...\n\n  private void increaseMainThrust(Delta<Thrust> thrustIncrease) {\n    ...\n    this.mainRocket.increaseThrust(thrustIncrease);\n  }\n\n  public void setCurrentSpeed(Velocity currentSpeed) {\n    this.currentSpeed = currentSpeed;\n  }\n\n  public void increaseVelocity(Delta<Velocity> deltaV) throws PropulsionError {\n    Delta<Thrust> thrustIncrease = this.calculateThrustIncrease(deltaV);\n\n    // prepare main rocket engine\n    if (!this.mainRocket.isAvailable()) {\n      throw new PropulsionError(PropulsionError.messages.MAIN_UNAVAILABLE);\n    }\n    this.mainRocket.prepareForThrustIncrease();\n\n    this.increaseMainThrust(thrustIncrease);\n  }\n}",cleanCode:"class PropulsionController {\n  private Velocity currentSpeed;\n  ...\n\n  private void increaseMainThrust(Delta<Thrust> thrustIncrease) {\n    ...\n    this.mainRocket.increaseThrust(thrustIncrease);\n  }\n\n  private void prepareMainRocket() throws PropulsionError {\n    if (!this.mainRocket.isAvailable()) {\n      throw new PropulsionError(PropulsionError.messages.MAIN_UNAVAILABLE);\n    }\n    this.mainRocket.prepareForDeltaThrust();\n  }\n\n  public void setCurrentSpeed(Velocity currentSpeed) {\n    this.currentSpeed = currentSpeed;\n  }\n\n  public void increaseVelocity(Delta<Velocity> deltaV) throws PropulsionError {\n    Delta<Thrust> thrustIncrease = this.calculateThrustIncrease(deltaV);\n    this.prepareMainRocket();\n    this.increaseMainThrust(thrustIncrease);\n  }\n}",cleanCodeHighlightedLines:"10-15,23",comment:d,inputs:[{type:s.CodeSmell,options:[{value:i.LongMethod},{value:i.Comment,isValid:!0}],lines:"17-21"},{type:s.Refactoring,options:[{value:o.ExtractClass},{value:o.MoveMethod},{value:o.ExtractMethod,isValid:!0}],lines:"17-21"}]},h=null!==(l="/soc-asklepios")?l:"",p="Viel besser lesbar (testbar/wartbar/erweiterbar), und in diesem Fall auch k\xfcrzer.\n\nDetails: [Refactorings](".concat(h,"/info/#refactorings)."),v=[f,{uuid:"bf8bb3be-bd1a-4380-8d5b-87270cb58f7c",name:"O2 Level Status",difficulty:a.Simple,category:r.VentilationThermalControl,dirtyCode:"...\n  public O2LevelStatus getO2LevelStatus(OxygenSensorData  levelOfOxygen) {\n    O2LevelStatus status;\n    if (levelOfOxygen < this.lowerLimit) {\n      status = O2LevelStatus.TOO_LOW;\n    } else if (levelOfOxygen > this.upperLimit) {\n      status = O2LevelStatus.TOO_HIGH;\n    } else {\n      status = O2LevelStatus.RIGHT_AMOUNT;\n    }\n    return status;\n  }\n...",cleanCode:"...\n  public O2LevelStatus getO2LevelStatus(OxygenSensorData  levelOfOxygen) {\n    if (levelOfOxygen < this.lowerLimit) {\n      return O2LevelStatus.TOO_LOW;\n    }\n    if (levelOfOxygen > this.upperLimit) {\n      return O2LevelStatus.TOO_HIGH;\n    }\n    return O2LevelStatus.RIGHT_AMOUNT;\n  }\n...",cleanCodeHighlightedLines:"3-9",comment:p,inputs:[{type:s.Refactoring,options:[{value:o.ExtractClass},{value:o.MoveMethod},{value:o.ExtractMethod},{value:o.GuardClauses,isValid:!0}],lines:"4-10"}]},{uuid:"f71993ba-c4da-4490-8286-0bedd08a6871",name:"Astronaut Sleep Duration",difficulty:a.Simple,category:r.CrewHealthCryosleep,dirtyCode:"class AstronautHealth {\n  ...\n\n  public updateSleepDuration(){\n    if (\n      this.sensorData.glycaemia < AstronautHealth.MIN_GLYCAEMIA\n      || this.sensorData.glycaemia > AstronautHealth.MAX_GLYCAEMIA\n      || this.sensorData.SpO2 < AstronautHealth.MIN_SP02\n      || this.sensorData.SpO2 > AstronautHealth.MAX_SP02\n    ) {\n      this.sleepDuration = AstronautHealth.BASIC_SLEEP_DURATION\n        + 0.5 * (Math.abs(this.sensorData.glycaemia - AstronautHealth.IDEAL_GLYCAEMIA))\n        + 0.3 * (Math.abs(this.sensorData.SpO2 - AstronautHealth.IDEAL_SP02));\n    } else {\n      this.sleepDuration = AstronautHealth.BASIC_SLEEP_DURATION;\n    }\n  }\n}",cleanCode:"class AstronautHealth {\n  ...\n\n  private boolean hasCriticalHealthCondition() {\n    return (\n      this.sensorData.glycaemia < AstronautHealth.MIN_GLYCAEMIA\n      || this.sensorData.glycaemia > AstronautHealth.MAX_GLYCAEMIA\n      || this.sensorData.SpO2 < AstronautHealth.MIN_SP02\n      || this.sensorData.SpO2 > AstronautHealth.MAX_SP02\n    );\n  }\n\n  private SleepDuration calculateBasicSleepDuration() {\n    return AstronautHealth.BASIC_SLEEP_DURATION;\n  }\n\n  private SleepDuration calculateExtraSleepDuration() {\n    return this.calculateBasicSleepDuration()\n      + 0.5 * (Math.abs(this.sensorData.glycaemia - AstronautHealth.IDEAL_GLYCAEMIA))\n      + 0.3 * (Math.abs(this.sensorData.SpO2 - AstronautHealth.IDEAL_SP02));\n  }\n\n  public updateSleepDuration(){\n    if (this.hasCriticalHealthCondition()) {\n      this.sleepDuration = this.calculateExtraSleepDuration();\n    } else {\n      this.sleepDuration = this.calculateBasicSleepDuration();\n    }\n  }\n}",cleanCodeHighlightedLines:"4-11,13-15,17-21,24,25,27",comment:"Da die komplexen Codestellen in Methoden ausgelagert wurden, ist die bedingte Verzweigung in `updateSleepDuration()` leichter zu verstehen.",inputs:[{type:s.Refactoring,options:[{value:o.ExtractClass},{value:o.MoveMethod},{value:o.GuardClauses},{value:o.DecomposeConditional,isValid:!0}],lines:"6-9, 11-13, 15"}]}]},5236:function(e,t,n){n.d(t,{H:function(){return a}});var r=n(7294);function a(e){(0,r.useEffect)((function(){"function"===typeof e&&e()}),[])}},6092:function(e,t,n){n.d(t,{V:function(){return o}});var r=n(7294);function a(e,t){var n=function(e){var t;if("undefined"===typeof localStorage)return null;var n=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"null";try{return JSON.parse(n)}catch(r){console.error(r)}return n}(e);return null===n?t:n}function o(e,t){var n=(0,r.useState)((function(){return a(e,t)})),o=n[0],i=n[1],s=(0,r.useRef)(!1),u=(0,r.useRef)(!1),l=(0,r.useMemo)((function(){return"rooks-".concat(e,"-localstorage-update")}),[e]);(0,r.useEffect)((function(){s.current&&u.current||function(e,t){"undefined"===typeof localStorage||localStorage.setItem(e,JSON.stringify(t))}(e,o)}),[e,o]);var c=(0,r.useCallback)((function(t){var n;if(t.storageArea===localStorage&&t.key===e)try{s.current=!0;var r=JSON.parse(null!==(n=t.newValue)&&void 0!==n?n:"null");o!==r&&i(r)}catch(a){console.log(a)}}),[e,o]);(0,r.useEffect)((function(){return"undefined"!==typeof window?(window.addEventListener("storage",c),function(){window.removeEventListener("storage",c)}):(console.warn("useLocalstorageState: window is undefined."),function(){})}),[c]);var d=(0,r.useCallback)((function(e){try{u.current=!0;var t=e.detail.newValue;o!==t&&i(t)}catch(n){console.log(n)}}),[o]);(0,r.useEffect)((function(){return"undefined"!==typeof document?(document.addEventListener(l,d),function(){document.removeEventListener(l,d)}):(console.warn("[useLocalstorageState] document is undefined."),function(){})}),[l,d]);var f=(0,r.useCallback)((function(e){if("undefined"!==typeof document){var t=new CustomEvent(l,{detail:{newValue:e}});document.dispatchEvent(t)}else console.warn("[useLocalstorageState] document is undefined.")}),[l]),h=(0,r.useCallback)((function(e){s.current=!1,u.current=!1,i(e),f(e)}),[f]),p=(0,r.useCallback)((function(){localStorage.removeItem(e)}),[e]);return[o,h,p]}},419:function(e,t,n){n.d(t,{b:function(){return a}});var r=n(7294);function a(e){(0,r.useEffect)((function(){return e}),[])}}}]);